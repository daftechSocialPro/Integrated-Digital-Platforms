<div class="page-header ng-star-inserted">
    <div class="page-block">
        <div class="row align-items-center">
            <div class="col-md-12">
                <div class="page-header-title"><!----><!---->
                    <h5 class="mb-2 ng-star-inserted"> DWM </h5>
                </div>
                <ul class="breadcrumb">
                    <li class="breadcrumb-item"><a _>Configuration</a></li>
                    <li class="breadcrumb-item ng-star-inserted">
                        <a href="javascript:">
                            Reading Sheet
                        </a>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="col-md-12 p-4 ">
        <div class="col-md-12 text-end">


            <span style="font-size: 18px;color:#8c69c8"> {{mobileReadings[0] && mobileReadings[0].monthnamelocal }}
            </span> ,
            <span style="font-size: 18px;color:#8c69c8"> {{mobileReadings[0] && mobileReadings[0].fiscalYear }} </span>
        </div>
        <div class="col-md-12">
            <span style="font-size: 18px;color:#8c69c8"> {{readingLength}} </span> Genereted Customers

        </div>
        <div class="col-lg-12 text-end p-2">
            <button type="button" class="btn btn-outline-danger" (click)="ClearMobileAppReading()"><i
                    class="pi pi-trash me-1" style="font-size: 12px;"></i>
                Mobile Reading</button>
        </div>
        <div class="row">


            <div class="col-3">

                <div class="form-floating mb-3">
                    <input class="form-control" [(ngModel)]="year" />
                    <label for="floatingInput">Year</label>
                </div>
            </div>
            <div class="col-3">

                <div class="form-floating mb-3">
                    <select class="form-control" [(ngModel)]="month">
                        <option *ngFor="let item of months" [value]="item.monthIndex">{{item.monthnamelocal}}</option>

                    </select>

                    <label for="floatingInput">Month</label>
                </div>
            </div>
            <div class="col-2">

                <div class="form-floating mb-3">
                    <input class="form-control" [(ngModel)]="kebele" />
                    <label for="floatingInput">Kebele</label>
                </div>
            </div>
            <div class="col-2">
                <button [hidden]="!year||!month" class="btn btn-outline-primary" (click)="generateCustomers()"
                    [disabled]="!year&&!month"> Generate</button>
            </div>
        </div>


        <table class="custom-table">
            <thead>
                <tr>
                    <th>Cust Id </th>
                    <th>Contract Number</th>
                    <th>Customer Name </th>
                    <th>Reader Name </th>
                    <th>Phone Number </th>
                    <th>Prev Reading </th>
                    <th>Prev Total Cost </th>



                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of mobileReadings ;let i = index">

                    <td>{{item.custId}}</td>
                    <td>{{item.contractNo}}</td>
                    <td>{{item.customerName}}</td>
                    <td>{{item.readerName}}</td>
                    <td>{{item.mobile}}</td>
                    <td>{{item.prevReading}}</td>
                    <td>{{item.prevTotalCost}}</td>
                </tr>
            </tbody>
        </table>
        <div class="card flex justify-content-center">
            <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="pageSize"
                [totalRecords]="readingLength"></p-paginator>
        </div>
    </div>
</div>