<div class="row p-2">
    <div class="col-lg-12 text-end ">
        <button type="button" class="btn btn-outline-primary" *ngIf="employmentStatus == 'ACTIVE'" (click)="addEmploymentHistory()"><i class="bi bi-plus me-1"></i>
            History</button>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title"></h5>
                <p-table [value]="histories" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
                    [tableStyle]="{ 'min-width': '50rem' }"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [rowsPerPageOptions]="[5, 25, 50]" styleClass="p-datatable-sm">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>DEPARTMENT</th>
                            <th>POSITION</th>
                            <th>START DATE</th>
                            <th>END DATE</th>
                            <th>SALARY</th>
                            <th>SALARY SOURCE</th>
                            <th>Remark</th>
                            <th>ACTIONS</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-history>
                        <tr>
                            <td>{{ history.departmentName }}</td>
                            <td>{{ history.positionName }}</td>
                            <td>{{ history.startDate | date:"MMM dd, YYYY"}}</td>
                            <td>{{ history.endDate| date:"MMM dd, YYYY" }}</td>
                            <td>{{ history.salary }}</td>
                            <td>{{ history.sourceOfSalary }}</td>
                            <td>{{ history.remark}}</td>

                            <td>
                                <div class="filter" *ngIf="employmentStatus == 'ACTIVE' && history.rowStatus == 'ACTIVE'">
                                    <a class="icon" href="#" data-bs-toggle="dropdown"> <i class="bi bi-three-dots-vertical"></i></a>
                                    <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                       <li *ngIf="history.sourceOfSalary=='PROJECT'"><a class="dropdown-item" (click)="addProjectSalary(history)"  > <i class="bi bi-plus"></i>Add Project Salary</a></li>
                                       <li><a class="dropdown-item" (click)="updateEmploymentHistory(history)"  > <i class="bi bi-pencil"></i>Update</a></li>
                                       <li><a class="dropdown-item" (click)="printContractLetter(history.id)"  > <i class="bi bi-pencil"></i>Print Contract letter</a></li>
                                       <li><a class="dropdown-item" (click)="deleteEmployeeHistory(history.id)" ><i class="bi bi-trash"></i>Delete</a></li>
                                    </ul>
                                 </div>
                               
                            </td>

                        </tr>
                    </ng-template>


                </p-table>
            </div>
        </div>
    </div>
</div>