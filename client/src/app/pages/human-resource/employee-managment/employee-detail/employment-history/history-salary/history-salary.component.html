<div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title">Project Salary </h5>
        <button type="button" class="btn-close" id="ModalClose" (click)="closeModal()" aria-label="Close"></button>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Total Salary - {{empHistory.salary}} Birr, Remaining<span style="color: black;"> -
                    {{remaining}} Birr </span></h5>
            <div class="row">
                <div class="col-lg-12">
                    <form class="" [formGroup]="salaryHistoryForm" (ngSubmit)="addEmpSalary()">
                        <div class="modal-body">
                            <div class="row g-3">

                                <div class="col-md-6">
                                    <div class="form-floating mb-3">
                                        <select class="form-select" id="projectName" formControlName="projectId" required=""
                                            aria-label="State">
    
                                            <option></option>
                                            <option *ngFor="let department of projectsSelectList" [value]="department.id">{{
                                                department.name }}</option>
                                        </select>
                                        <label for="projectName">Project</label>
                                    </div>
                                </div>

                                <!-- <div class="col-md-6">
                                    <div class="form-floating"> <input type="text" class="form-control" id="projectName"
                                            placeholder="projectName" required formControlName="projectName">
                                        <label for="projectName"> Project Name</label>
                                    </div>
                                </div> -->

                                <div class="col-md-6">
                                    <div class="form-floating"> <input type="number" class="form-control" id="percentile"
                                            placeholder="percentile" required formControlName="percentile">
                                        <label for="percentile"> Percentile</label>
                                    </div>
                                </div>



                            </div>
                        </div>
                        <div class="modal-footer"> <button type="button" type="submit"
                                [disabled]="!salaryHistoryForm.valid" class="btn btn-outline-primary">
                                {{updatehistory?"Update":"Save"}}
                                changes</button></div>
                    </form>
                </div>


                <p-table [value]="salrayHistories" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
                    [tableStyle]="{ 'min-width': '50rem' }"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [rowsPerPageOptions]="[5, 25, 50]" styleClass="p-datatable-sm">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Project Name</th>
                            <th>Project Salary</th>
                            <th>Percentage</th>
                            <th>ACTIONS</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-history>
                        <tr>

                            <td>{{ history.projectName }}</td>
                            <td>{{(history.percentile*empHistory.salary)/100}}</td>
                            <td>{{history.percentile}}%


                            <td>
                                <div class="filter">
                                    <a class="icon" href="#" data-bs-toggle="dropdown"> <i
                                            class="bi bi-three-dots-vertical"></i></a>
                                    <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">

                                        <li><a class="dropdown-item" (click)="updateSalaryHistory(history)"  > <i class="bi bi-pencil"></i>Update</a></li>
                                        <li><a class="dropdown-item" (click)="deleteEmployeeHistory(history.id)" ><i class="bi bi-trash"></i>Delete</a></li>
      
                                    </ul>
                                </div>

                            </td>

                        </tr>
                    </ng-template>


                </p-table>
            </div>
        </div>
    </div>


</div>