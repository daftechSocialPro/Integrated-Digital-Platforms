<div class="row p-2">
    <div class="col-lg-12 text-end ">
        <button type="button" *ngIf="employmentStatus == 'ACTIVE'"  class="btn btn-outline-primary" (click)="addEmployeeGuarantee()"><i
                class="bi bi-plus me-1"></i>
            Guarantee </button>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title"> Guarantee Detail</h5>

                <div *ngIf="employeeGuarantee" class="employee-details">
                    <p-table [value]="employeeGuarantee" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
                    [tableStyle]="{ 'min-width': '50rem' }"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [rowsPerPageOptions]="[5, 25, 50]" styleClass="p-datatable-sm">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Organization Name</th>
                            <th>Full Name</th>
                            <th>Letter No</th>
                            <th>Date</th>
                            <th>Is Returned</th>
                            <th>Action</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-guarantee>
                        <tr>
                            <td>{{ guarantee.organizationName }}</td>
                            <td>{{ guarantee.fullName }}</td>
                            <td>{{ guarantee.letterNumber }}</td>
                            <td>{{ guarantee.letterDate | date : 'yyyy, MM, dd'   }}</td>
                            <td>
                                <i class="pi" [ngClass]="{ 'text-green-500 pi-check-circle': 
                                guarantee.isReturned, 'text-red-500 pi-times-circle': 
                               !guarantee.isReturned }"></i>
                            </td>
                            <td>
                                <a class="icon" href="#" data-bs-toggle="dropdown"> <i class="bi bi-three-dots-vertical"></i></a>
                                <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                    <li><a *ngIf="!guarantee.isReturned" class="dropdown-item" (click)="returnGuarantee(guarantee.id)"> <i class="bi bi-pencil"></i>Return
                                            Contract letter</a></li>
                                    <li><a *ngIf="!guarantee.isReturned" class="dropdown-item" (click)="printLetter(guarantee)"><i class="bi bi-printer"></i>Print</a>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>

                </div>

            </div>
        </div>
    </div>
</div>