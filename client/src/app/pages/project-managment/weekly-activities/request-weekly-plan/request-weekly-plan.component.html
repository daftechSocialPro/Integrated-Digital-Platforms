



<div class="row mt-2">
    <div class="col-lg-3">

        <div class="card " style="border-radius: 10px;">
            <div class="card-body">
                <h5 class="card-title">Weekly Plan Overview</h5>
                <div class="divider"></div>

                <h5>Accepted  <span>-  {{numberOfAccepted}} Activities</span></h5>
                <h5>Requested <span>- {{numberOfRequested}}  Activities </span></h5>
                <h5>Rejected <span>- {{numberOfRejected}}  Activities</span> </h5>
              

            </div>
        </div>


    </div>
    <div class="col-lg-9">

        <div class="card">
            <div class="col-lg-12 text-end  p-2">
                <button type="button" class="btn btn-outline-primary" (click)="requestLeave()"><i
                        class="bi bi-plus me-1"></i>
                    Request Activity</button>
            </div>
            <div class="card-body">
                <h5 class="card-title">Activities</h5>

                <p-table [value]="weeklyPlans" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
                    [tableStyle]="{ 'min-width': '50rem' }"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [rowsPerPageOptions]="[5, 25, 50]" styleClass="p-datatable-sm">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Activity</th>
                            <th>Place of Work </th>
                            <th>From Date</th>
                            <th>To Date </th>
                            <th>Request Status</th>
                            <th>Work Status</th>
                            <th>Remark</th>
                            <th></th>
                       
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-plan>
                        <tr>
                            <td>{{plan.activity}}</td>
                            <td>{{plan.placeOfWork}}</td>
                            <td>{{plan.fromDate|date:"dd-MMM-yyyy"}}</td>
                            <td>{{plan.toDate|date:"dd-MMM-yyyy"}}</td>
                            <td>{{plan.weeklyPlanStatus}}</td>
                            <td>{{ plan.weeklyPlanStatus!='APPROVED'?'---': plan.workStatus}}</td>                          
                            <td>{{plan.remark?plan.remark:"----"}}</td>
                            
                            <!-- <td >
                                
                                <p-overlayPanel #op>
                                   <strong>Reason for Rejection</strong>
                                    <P>{{leave.remark}}</P>
                                </p-overlayPanel>
                                
                                <p-badge [value]="leave.leaveStatus" (click)="leave.leaveStatus=='REJECTED'&&op.toggle($event)" [severity]="getBadge(leave.leaveStatus)"></p-badge>
                            
                            
                            </td>
                            <td><p-button (onClick)="goToDetails(leave.id)" icon="pi pi-ellipsis-h" styleClass="p-button-outlined p-button-sm" ></p-button></td>
     -->

                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>

</div>