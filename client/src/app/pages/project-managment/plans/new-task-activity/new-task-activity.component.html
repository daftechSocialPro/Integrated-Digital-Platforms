<div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title">Add Task</h5>
        <button type="button" class="btn-close" id="ModalClose" (click)="closeModal()" aria-label="Close"></button>
    </div>

    <div class="card">

        <div class="card-body">
            <h5 class="card-title">Task Detail</h5>

            <div class="row">
                <div class="col-lg-8">
                    <form class="" [formGroup]="taskForm" (ngSubmit)="submit()">
                        <div class="modal-body">
                            <div class="row g-3">
                                <div class="col-12">
                                    <div class="form-floating">
                                        <textarea class="form-control" formControlName="description"
                                            placeholder="description" id="description"
                                            style="height: 120px;"></textarea>
                                            <label for="description">Task Description</label>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="flex flex-column gap-2">
                                        <label for="taskNumber">Task Number</label>
                                        <input type="text" pInputText id="taskNumber"
                                            formControlName="taskNumber" />
                                    </div>

                                </div>
                                <div class="col-md-4">
                                    <div class="flex flex-column gap-2">
                                        <label htmlFor="startDate">Start Date</label>
                                        <input type="date" class="form-control" id="yearpicker" formControlName="startDate" [min]="minDate" [max]="maxDate">
                                    </div>

                                </div>
                                <div class="col-md-4">
                                    <div class="flex flex-column gap-2">
                                        <label htmlFor="startDate">End Date</label>
                                        <input type="date" class="form-control" id="yearpicker" formControlName="endDate" [min]="minDate"
                                            [max]="maxDate">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="plannedBudget"
                                            placeholder="planned Budget" formControlName="plannedBudget">
                                        <label for="plannedBudget">Planned Budget</label>
                                        <small style="color: red;">Remaining Budget : {{remainingBudget}}</small>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="baseLine"
                                            placeholder="baseLine" formControlName="baseLine">
                                        <label for="baseLine">Baseline</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="target" placeholder="Target"
                                            formControlName="target">
                                        <label for="target">Target</label>
                                    </div>
                                </div>
                                <div class="col-md-6" >
                                    <div class="form-floating mb-3">
                                        <div class="mb-4">
                                            <select class="form-select" formControlName="AssignedEmployee"
                                                id="employees" multiple>
                                                <option *ngFor="let emp of Employees" value={{emp.id}}>
                                                    {{emp.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            
                             <button type="button" class="btn btn-outline-secondary"
                                (click)="closeModal()">Close</button>
                            <button type="button" type="submit" [disabled]="!taskForm.valid"
                                class="btn btn-outline-primary">Create</button>
                        </div>
                    </form>
                </div>
                <div class="col-lg-4">
                    <div class="modal-content ">
                        <div class="modal-header bg-secondary text-white">
                            <h5 class="modal-title">Tips</h5>
                        </div>
                        <div class="modal-body" *ngIf="activity">
                            <div class="card-title text-center">{{activity.name!}}</div>
                            <div class="text-center">
                                <span class="card-title" *ngIf="dateAndTime"> {{dateAndTime.fromDate|date:"dd MM YYYY"}}
                                    -  {{dateAndTime.endDate |date:"dd MM YYYY"}} </span> <br />
                                <span class="card-title"> Activity Budget : {{activity.plannedBudget!|number:'1.0-2'}}
                                    ETB</span> <br />
                                <br />
                                <!-- <span class="card-title">Remaining Task Weight :{{task.remianingWeight}} %</span> -->
                            </div>
                        </div>

                    </div>
                    <div class="modal-content mt-2 ">
                        <div class="modal-header bg-secondary text-white">
                            <h5 class="modal-title">Added Tasks</h5>
                        </div>
                        <div class="modal-body"  style="background-color: #f6f9ff;">
                            <ul>
                                <li *ngFor="let item of addedTasks"> {{item}}</li>
                            </ul>
                        </div>
                    </div>
                    <div class="modal-content mt-2 " *ngIf="comitteEmployees.length>0">
                        <div class="modal-header bg-secondary text-white">
                            <h5 class="modal-title">Comittee Employees</h5>
                        </div>
                        <div class="modal-body">

                            <ul>
                                <li *ngFor="let item of comitteEmployees">
                                    <span>{{item.name}} ({{item.commiteeStatus}})</span>

                                </li>
                            </ul>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>
</div>