<div class="card">
    <div class="row p-2">
        <div class="col-lg-12 text-end ">
            <button type="button" class="btn btn-outline-primary" (click)="addAccountingPeriod()"><i class="bi bi-plus me-1"></i>
                Add Accounting Period</button>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Accounting Period</h5>
          
                        <p-table [value]="accountingPeriods"
                                [paginator]="true"
                                [rows]="5"
                                [showCurrentPageReport]="true"
                                [tableStyle]="{ 'min-width': '50rem' }"
                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                [rowsPerPageOptions]="[5, 25, 50]"
                                styleClass="p-datatable-sm"
                                dataKey="itemId">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th></th>
                                    <th>Description</th>
                                    <th>Accounting Period Type</th>
                                    <th>Calander Type</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-accperiod let-expanded="expanded">
                                <tr>
                                    <td>
                                        <button type="button" pButton pRipple [pRowToggler]="accperiod"
                                            class="p-button-text p-button-rounded p-button-plain"
                                            [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
                                    </td>
                                    <td style="min-width: 12rem;">{{accperiod.description}}</td>
                                    <td style="min-width: 10rem;">{{accperiod.accountingPeriodType}}</td>
                                    <td style="min-width: 10rem;">{{accperiod.calanderType}}</td>
                                    <td style="min-width: 10rem;">{{accperiod.startDate | date:'MMM dd yyyy'}}</td>
                                    <td style="min-width: 10rem;">{{accperiod.endDate | date:'MMM dd yyy'}}</td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="rowexpansion" let-accperiod>
                                <tr>
                                    <td colspan="3">
                                        <div class="p-3">
                                            <p-table [value]="accperiod.periodDetails" dataKey="id" responsiveLayout="scroll">
                                                <ng-template pTemplate="header">
                                <tr>
                                    <th>Period Number</th>
                                    <th>Period Start</th>
                                    <th>Period End</th>
                                    
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-accItem>
                                <tr>
                                    <td>{{accItem.periodNo}}</td>
                                    <td>{{accItem.periodStart| date:'MMM dd yyyy'}}</td>
                                    <td>{{accItem.periodEnd| date:'MMM dd yyyy'}}</td>
                                    
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="emptymessage">
                                <tr>
                                    <td colspan="4">There are no Period for this Accounting Period yet.</td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                    </td>
                    </tr>
                    </ng-template>
                    </p-table>
                  
                </div>
            </div>
        </div>
    </div>
</div>